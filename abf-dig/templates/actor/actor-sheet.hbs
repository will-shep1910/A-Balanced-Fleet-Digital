<form class="actor-sheet">

  <header>
    <h1>{{actor.name}}</h1>
    <p><strong>Type:</strong> {{actor.type}}</p>
  </header>

  <section class="sheet-body">

    {{#if system.attributes.health}}
      <label for="health-value">Health:</label>
      <input type="number" name="system.attributes.health.value" id="health-value"
             value="{{system.attributes.health.value}}"
             min="{{system.attributes.health.min}}" max="{{system.attributes.health.max}}" />
      / {{system.attributes.health.max}}
    {{/if}}

    <section>
      <h3>Ammunition</h3>
      <ul class="ammo-list">
        <li><strong>Missile Attack Ammo:</strong> {{ammoCounts.atkammo}}</li>
        <li><strong>Missile Defense Ammo:</strong> {{ammoCounts.defammo}}</li>
        <li><strong>CIWS Ammo:</strong> {{ammoCounts.ciwsammo}}</li>
      </ul>
    </section>

    {{#if (or (eq actor.type "redShip") (eq actor.type "blueShip"))}}
      <button class="launch-missile">Launch Missile Attack</button>
    {{/if}}

    <h3>Items</h3>
    <ul>
      {{#each items}}
        <li>{{name}} (Type: {{type}})
          <button type="button" class="item-delete" data-item-id="{{_id}}">üóëÔ∏è</button>
          {{#if (eq type "missileAtk")}}
            Damage: {{system.damage}}<br/>
            Ammo: <input type="number" min="0" max="{{system.atkammo.max}}"
                         class="ammo-input"
                         data-item-id="{{_id}}"
                         data-ammo-type="atkammo"
                         value="{{system.atkammo.value}}" />
          {{/if}}

          {{#if (eq type "missileDef")}}
            Ammo: <input type="number" min="0" max="{{system.defammo.max}}"
                         class="ammo-input"
                         data-item-id="{{_id}}"
                         data-ammo-type="defammo"
                         value="{{system.defammo.value}}" />
          {{/if}}

          {{#if (eq type "ciws")}}
            Ammo: <input type="number" min="0" max="{{system.ciwsammo.max}}"
                         class="ammo-input"
                         data-item-id="{{_id}}"
                         data-ammo-type="ciwsammo"
                         value="{{system.ciwsammo.value}}" />
          {{/if}}

          {{#if (eq type "radar")}}
            <button type="button" class="radar-toggle">
              {{#if system.active}}Deactivate Radar{{else}}Activate Radar{{/if}}
            </button>
            <label>Active Range:</label>
            <input type="number" class="radar-range" data-range-type="activeRange" 
                   value="{{system.activeRange}}" min="0" />
            <label>Passive Range:</label>
            <input type="number" class="radar-range" data-range-type="passiveRange" 
                   value="{{system.passiveRange}}" min="0" />
          {{/if}}
        </li>
      {{/each}}
    </ul>

  </section>
</form>
